$(document).ready(function(){$(".errorBox").hide();console.log(host);setTimeout(function(){$(".domain").val(host)},100);$(".shorten").click(function(){clearErrors();if(!(/^[a-zA-Z0-9_+-.,!]+$/g.test($(".hash").val()))){$(".hash").toggleClass("error");addError("Invalid characters")}if($("[name=link]").val().length==0){$("[name=link]").toggleClass("error");addError("Must specify a link")}if($(".hash").val().length>32){$(".hash").toggleClass("error");addError("URL is longer than 32 characters.")}if(!hasErrors()){var a="https://"+host+"/create.php?hash="+encodeURIComponent($(".hash").val())+"&domain="+encodeURIComponent($(".domain").val())+"&link="+encodeURIComponent($("[name=link]").val());console.log(a);$.ajax({url:a}).done(function(c){console.log(c);var b=c;if(b.error==null||b.error=="false"){$(".link").hide(100);setTimeout(function(){$(".success").show(100)},100);$(".success").html('<div class="succHeader">Link created!</div><div class="createdLink"><a href="https://'+b.domain+"/"+b.hash+'">https://'+b.domain+"/"+b.hash+"</a></div>")}else{addError(b.errorMessage);$("."+b.field).toggleClass("error");showErrors()}});return}showErrors()})});var errors=[];function clearErrors(){errors=[];$(".error").toggleClass("error")}function addError(a){errors[errors.length]=a}function hasErrors(){return(errors.length!=0)}function showErrors(){var b="<ul>";for(var a=0;a<errors.length;a++){b+="<li>"+errors[a]+"</li>"}b+="</ul>";$(".errorBox").html(b);$(".errorBox").css("width",$(".link").width());$(".errorBox").show()};t